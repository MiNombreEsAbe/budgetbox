{"ast":null,"code":"import API, { LOGIN_USER } from \"../../API\";\nimport { signUpAction, signUpErrorAction, signInAction, signInErrorAction, updateProfileAction, updateProfileErrorAction, updateBudgetAction } from \"./actions\";\nconst api = new API();\nexport const fetchUserFromLocalStorage = () => {\n  return async dispatch => {\n    const userJSON = localStorage.getItem(LOGIN_USER);\n\n    if (userJSON) {\n      dispatch(signInAction(JSON.parse(userJSON)));\n    }\n  };\n};\nexport const signUp = function () {\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return async dispatch => {\n    return api.signUp(data).then(res => {\n      console.log(res);\n      localStorage.setItem(LOGIN_USER, JSON.stringify(res));\n      dispatch(signUpAction(res));\n    }).catch(err => {\n      dispatch(signUpErrorAction(err.response.data));\n    });\n  };\n};\nexport const updateProfile = function () {\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let id = arguments.length > 1 ? arguments[1] : undefined;\n  return async dispatch => {\n    return api.updateProfile(data, id).then(res => {\n      // console.log(res)\n      localStorage.setItem(LOGIN_USER, JSON.stringify(res));\n      dispatch(updateProfileAction(res));\n    }).catch(err => {\n      dispatch(updateProfileErrorAction(err.response.data));\n    });\n  };\n};\nexport const updateBudget = function () {\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let id = arguments.length > 1 ? arguments[1] : undefined;\n  return async dispatch => {\n    return api.updateBudget(data, id).then(res => {\n      localStorage.setItem(LOGIN_USER, JSON.stringify(res));\n      dispatch(updateBudgetAction(res));\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n};\nexport const signIn = function () {\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return async dispatch => {\n    return api.signIn(data).then(res => {\n      localStorage.setItem(LOGIN_USER, JSON.stringify(res));\n      dispatch(signInAction(res));\n    }).catch(err => {\n      dispatch(signInErrorAction(err.response.data));\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/morenoa2/Desktop/budgetboxapp/budgetboxfrontend/frontend/src/redux/users/operations.js"],"names":["API","LOGIN_USER","signUpAction","signUpErrorAction","signInAction","signInErrorAction","updateProfileAction","updateProfileErrorAction","updateBudgetAction","api","fetchUserFromLocalStorage","dispatch","userJSON","localStorage","getItem","JSON","parse","signUp","data","then","res","console","log","setItem","stringify","catch","err","response","updateProfile","id","updateBudget","error","signIn"],"mappings":"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","sourcesContent":["import API, { LOGIN_USER } from \"../../API\";\r\nimport {\r\n\tsignUpAction,\r\n\tsignUpErrorAction,\r\n\tsignInAction,\r\n\tsignInErrorAction,\r\n\tupdateProfileAction,\r\n\tupdateProfileErrorAction,\r\n\tupdateBudgetAction,\r\n} from \"./actions\";\r\n\r\nconst api = new API();\r\n\r\nexport const fetchUserFromLocalStorage = () => {\r\n\treturn async dispatch => {\r\n\t\tconst userJSON = localStorage.getItem(LOGIN_USER);\r\n\t\tif (userJSON) {\r\n\t\t\tdispatch(signInAction(JSON.parse(userJSON)));\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const signUp = (data = {}) => {\r\n\treturn async dispatch => {\r\n\t\treturn api\r\n\t\t\t.signUp(data)\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tlocalStorage.setItem(LOGIN_USER, JSON.stringify(res));\r\n\t\t\t\tdispatch(signUpAction(res));\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tdispatch(signUpErrorAction(err.response.data));\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const updateProfile = (data = {}, id) => {\r\n\treturn async dispatch => {\r\n\t\treturn api\r\n\t\t\t.updateProfile(data, id)\r\n\t\t\t.then(res => {\r\n\t\t\t\t// console.log(res)\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\tLOGIN_USER,\r\n\t\t\t\t\tJSON.stringify(res)\r\n\t\t\t\t);\r\n\t\t\t\tdispatch(updateProfileAction(res));\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tdispatch(updateProfileErrorAction(err.response.data));\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const updateBudget = (data = {}, id) => {\r\n\treturn async dispatch => {\r\n\t\treturn api\r\n\t\t\t.updateBudget(data, id)\r\n\t\t\t.then(res => {\r\n\t\t\t\tlocalStorage.setItem(LOGIN_USER, JSON.stringify(res));\r\n\t\t\t\tdispatch(updateBudgetAction(res));\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.error(err)\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const signIn = (data = {}) => {\r\n\treturn async dispatch => {\r\n\t\treturn api\r\n\t\t\t.signIn(data)\r\n\t\t\t.then(res => {\r\n\t\t\t\tlocalStorage.setItem(LOGIN_USER, JSON.stringify(res));\r\n\t\t\t\tdispatch(signInAction(res));\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tdispatch(signInErrorAction(err.response.data));\r\n\t\t\t});\r\n\t};\r\n};\r\n"]},"metadata":{},"sourceType":"module"}